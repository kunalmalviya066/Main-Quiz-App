<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GovExams Practice App</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body>

    <header class="main-header">
        <section id="login-gate" class="view">
        <div class="login-container">
            <h2><i class="fas fa-lock"></i> Secure Access</h2>
            <p>Enter the master password(ask to owner) to access the GovExams Practice App.</p>
            <input type="password" id="password-input" placeholder="Enter Password" required>
            <p id="login-error" class="error-message hidden"></p>
            <button id="login-button" class="start-button">Access Application</button>
        </div>
    </section>
        <div class="logo">
            <i class="fas fa-graduation-cap"></i> GovExams Mock
        </div>
        <nav>
            <a href="#" id="nav-home" class="nav-link active" data-view="home">Home</a>
            <a href="#" id="nav-subject" class="nav-link" data-view="subject-setup">Subject Practice</a>
            <a href="#" id="nav-daily" class="nav-link" data-view="daily-setup">Daily Quiz</a>
            <a href="#" id="nav-fullmock" class="nav-link" data-view="mock-setup">Full Mock</a>
            <a href="#" id="nav-results" class="nav-link" data-view="result-summary">Result Summary</a>
            <a href="#" id="nav-help" class="nav-link" data-view="help">Help</a>
        </nav>
    </header>

    <main id="app-container">
        
        <section id="home" class="view active">
            <h2>Welcome to GovExams Practice Platform!</h2>
            <p>Select an option below to start your practice session.</p>
            <div class="home-options-grid">
                <button class="home-option-card" data-view-target="subject-setup">
                    <i class="fas fa-book-open"></i>
                    <h3>Subject Practice</h3>
                    <p>Select a subject and specific topics.</p>
                </button>
                <button class="home-option-card" data-view-target="daily-setup">
                    <i class="fas fa-calendar-day"></i>
                    <h3>Daily Quiz</h3>
                    <p>Random questions across all topics.</p>
                </button>
                <button class="home-option-card" data-view-target="mock-setup">
                    <i class="fas fa-clipboard-check"></i>
                    <h3>Full Mock</h3>
                    <p>Subject-wise simulated exam.</p>
                </button>
                <button class="home-option-card" data-view-target="result-summary">
                    <i class="fas fa-chart-line"></i>
                    <h3>Result Summary</h3>
                    <p>Review history and performance analysis.</p>
                </button>
            </div>
        </section>

        <section id="subject-setup" class="view hidden">
            <h2 class="view-title"><i class="fas fa-list-alt"></i> Subject & Topic Selection</h2>
            <div class="setup-form-container">
                <div class="setup-step">
                    <h4>Step 1: Choose Subject</h4>
                    <select id="subject-select"></select>
                </div>
                <div class="setup-step">
                    <h4>Step 2: Select Topics</h4>
                    <div id="topics-checkbox-container" class="topic-list">
                        <p class="placeholder">Select a subject first.</p>
                    </div>
                </div>
                <div class="setup-step-options">
                    <label for="num-questions">Number of Questions:</label>
                    <input type="number" id="num-questions" value="10" min="5" max="100">

                    <label for="timer-minutes">Time Limit (Minutes):</label>
                    <input type="number" id="timer-minutes" value="10" min="1">
                </div>
                <button id="start-subject-quiz" class="start-button"><i class="fas fa-play"></i> Start Subject Quiz</button>
            </div>
        </section>

        <section id="daily-setup" class="view hidden">
            <h2 class="view-title"><i class="fas fa-calendar-day"></i> Daily Quiz Setup</h2>
            <div class="setup-form-container">
                <p>Randomly selected questions from all subjects/topics.</p>
                <div class="setup-step-options">
                    <label for="daily-num-questions">Number of Questions:</label>
                    <input type="number" id="daily-num-questions" value="15" min="5" max="100">

                    <label for="daily-timer-minutes">Time Limit (Minutes):</label>
                    <input type="number" id="daily-timer-minutes" value="15" min="1">
                </div>
                <button id="start-daily-quiz" class="start-button"><i class="fas fa-play"></i> Start Daily Quiz</button>
            </div>
        </section>
        
        <section id="mock-setup" class="view hidden">
            <h2 class="view-title"><i class="fas fa-clipboard-check"></i> Full Mock Setup</h2>
            <div class="setup-form-container">
                <div class="setup-step">
                    <h4>Select Subject for Mock</h4>
                    <select id="mock-subject-select"></select>
                </div>
                <div class="setup-step-options">
                    <label for="mock-num-questions">Number of Questions:</label>
                    <input type="number" id="mock-num-questions" value="50" min="10" max="200">

                    <label for="mock-timer-minutes">Time Limit (Minutes):</label>
                    <input type="number" id="mock-timer-minutes" value="60" min="1">
                </div>
                <button id="start-mock-quiz" class="start-button"><i class="fas fa-play"></i> Start Full Mock</button>
            </div>
        </section>

        <section id="active-quiz" class="view quiz-layout hidden">
            <div class="quiz-area">
                <div class="quiz-top-bar">
                    <div class="quiz-info">
                        <span id="quiz-subject-info">Subject: General Knowledge</span> | 
                        <span id="quiz-topic-info">Topic: Indian History</span>
                    </div>
                    <div class="quiz-timer">
                        <i class="far fa-clock"></i> Time Left: <span id="timer-display">00:00</span>
                    </div>
                    <button id="pause-resume-btn" class="control-btn pause"><i class="fas fa-pause"></i> Pause</button>
                </div>

                <div class="question-container">
                    <div class="question-header">
                        <span id="q-number-display">Question 1 of 10</span>
                    </div>
                    <p id="question-text">Question text will be loaded here...</p>
                    <div id="question-image-container">
                        </div>
                    <div id="options-container" class="options-list">
                        </div>
                </div>

                <div class="quiz-controls-bar">
                    <button id="prev-question-btn" class="control-btn"><i class="fas fa-chevron-left"></i> Previous</button>
                    <button id="clear-answer-btn" class="control-btn secondary"><i class="fas fa-eraser"></i> Clear Answer</button>
                    <button id="mark-review-btn" class="control-btn review"><i class="fas fa-bookmark"></i> Mark for Review</button>
                    <button id="next-question-btn" class="control-btn next"><i class="fas fa-chevron-right"></i> Next</button>
                    <button id="finish-quiz-btn" class="control-btn finish hidden"><i class="fas fa-check-circle"></i> Finish & Submit</button>
                </div>
            </div>

            <div class="quiz-navigator-panel">
                <h4>Question Navigation</h4>
                <div id="question-navigator-grid" class="navigator-grid">
                    </div>
                <div class="navigator-key">
                    <span class="key attempted">Attempted</span>
                    <span class="key unattempted">Unattempted</span>
                    <span class="key marked">Marked</span>
                </div>
                <button id="navigator-finish-btn" class="start-button full-width mt-10"><i class="fas fa-paper-plane"></i> Submit Quiz</button>
            </div>
        </section>

        <section id="result-summary" class="view hidden">
            <h2 class="view-title"><i class="fas fa-chart-line"></i> Performance History</h2>
            <div id="history-list" class="history-container">
                <p id="no-history-message" class="info-message">No quiz history found. Start a practice session!</p>
            </div>
        </section>

        <section id="result-details" class="view hidden">
            <h2 class="view-title"><i class="fas fa-trophy"></i> Quiz Results & Review</h2>
            <div id="result-summary-metrics" class="metrics-card-grid">
                </div>
            
            <div class="review-controls">
                <h3>Question Review</h3>
                <button id="back-to-summary-btn" class="control-btn secondary"><i class="fas fa-arrow-left"></i> Back to History</button>
            </div>
            
            <div id="question-review-list" class="review-list">
                </div>
        </section>

        <section id="help" class="view hidden">
            <h2 class="view-title"><i class="fas fa-question-circle"></i> Help & Instructions</h2>
            <div class="help-content">
                <p>Detailed instructions on how to use the app, scoring rules, and feature explanations.</p>
                </div>
        </section>

    </main>

    <div id="quiz-restriction-modal" class="modal hidden">
        <div class="modal-content">
            <h3><i class="fas fa-exclamation-triangle"></i> Active Quiz Alert</h3>
            <p id="restriction-message">A quiz is currently active. Moving to a new section will cancel your current session without saving progress.</p>
            <div class="modal-actions">
                <button id="cancel-quiz-btn" class="control-btn danger"><i class="fas fa-times-circle"></i> Cancel Current Quiz</button>
                <button id="stay-quiz-btn" class="control-btn primary">Stay on Quiz</button>
            </div>
        </div>
    </div>
    
    <div id="pause-screen-overlay" class="overlay hidden">
        <div class="overlay-content">
            <i class="fas fa-exclamation-circle"></i>
            <h3>Quiz Paused - Attention Required</h3>
            <p>Please click 'Resume' below to continue the test. Switching tabs or windows while paused is not allowed in a real exam environment.</p>
            <button id="resume-from-overlay-btn" class="start-button"><i class="fas fa-play"></i> Resume Quiz</button>
        </div>
    </div>


    <script src="db.js"></script>
    <script src="script.js"></script>
</body>
</html>