<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>MockQuiz — Local Practice App</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header class="app-header">
    <div class="brand">MockQuiz</div>
    <nav class="main-nav" aria-label="Main navigation">
      <button data-nav="home" class="nav-item">Home</button>
      <button data-nav="subject" class="nav-item">Subject</button>
      <button data-nav="daily" class="nav-item">Daily Quiz</button>
      <button data-nav="fullmock" class="nav-item">Full Mock</button>
      <button data-nav="results" class="nav-item">Result Summary</button>
      <button data-nav="help" class="nav-item">Help</button>
    </nav>
    <div class="header-controls">
      <span id="active-quiz-indicator" aria-live="polite"></span>
    </div>
  </header>

  <main id="app-main">
    <!-- HOME -->
    <section id="view-home" class="view">
      <h1>Welcome to MockQuiz</h1>
      <p>Practice for government exams locally — all data stays in your browser.</p>
      <ul class="home-links">
        <li><button data-nav="subject" class="link-btn">Subjects</button></li>
        <li><button data-nav="daily" class="link-btn">Daily Quiz</button></li>
        <li><button data-nav="fullmock" class="link-btn">Full Mock</button></li>
        <li><button data-nav="results" class="link-btn">Result Summary</button></li>
        <li><button data-nav="help" class="link-btn">Help</button></li>
      </ul>
    </section>

    <!-- SUBJECT SELECTION -->
    <section id="view-subject" class="view hidden">
      <h2>Select Subject</h2>
      <div id="subjects-list" class="cards-grid" aria-live="polite">
        <!-- populated by script.js -->
      </div>

      <div id="subject-topics" class="hidden">
        <h3 id="selected-subject-name"></h3>
        <div id="topics-list" class="cards-grid">
          <!-- populated by script.js -->
        </div>

        <div class="setup-panel">
          <label>Number of questions: <input type="number" id="subject-numq" min="1" value="10"></label>
          <label>Time (minutes): <input type="number" id="subject-timemin" min="1" value="20"></label>
          <div class="setup-actions">
            <button id="subject-start">Start Quiz</button>
            <button id="subject-cancel">Cancel</button>
          </div>
        </div>
      </div>
    </section>

    <!-- DAILY QUIZ -->
    <section id="view-daily" class="view hidden">
      <h2>Daily Quiz</h2>
      <p>Random questions automatically selected from the database.</p>
      <div class="setup-panel">
        <label>Number of questions: <input type="number" id="daily-numq" min="1" value="10"></label>
        <label>Time (minutes): <input type="number" id="daily-timemin" min="1" value="20"></label>
        <div class="setup-actions">
          <button id="daily-start">Start Daily Quiz</button>
        </div>
      </div>
    </section>

    <!-- FULL MOCK -->
    <section id="view-fullmock" class="view hidden">
      <h2>Full Mock</h2>
      <p>Take a full mock exam subject-wise (no topic selection).</p>
      <div id="fullmock-subjects" class="cards-grid"></div>

      <div id="fullmock-setup" class="hidden setup-panel">
        <h3 id="fullmock-subject-name"></h3>
        <label>Number of questions: <input type="number" id="fullmock-numq" min="1" value="50"></label>
        <label>Time (minutes): <input type="number" id="fullmock-timemin" min="1" value="120"></label>
        <div class="setup-actions">
          <button id="fullmock-start">Start Full Mock</button>
          <button id="fullmock-cancel">Cancel</button>
        </div>
      </div>
    </section>

    <!-- QUIZ VIEW -->
    <section id="view-quiz" class="view hidden">
      <header class="quiz-header">
        <div class="quiz-meta">
          <div id="quiz-title"></div>
          <div id="quiz-subtitle"></div>
        </div>
        <div class="quiz-timer">
          <span id="timer-display">00:00</span>
          <button id="timer-pause">Pause</button>
          <button id="timer-resume" class="hidden">Resume</button>
        </div>
      </header>

      <div class="quiz-body">
        <aside class="quiz-left">
          <div id="question-area">
            <!-- question rendered here -->
          </div>

          <div class="question-actions">
            <button id="prev-q">Prev</button>
            <button id="next-q">Next</button>
            <button id="mark-review">Mark for Review</button>
            <button id="clear-answer">Clear Answer</button>
            <button id="finish-quiz">Finish / Submit</button>
          </div>
        </aside>

        <aside class="quiz-right">
          <div id="navigator-grid" class="navigator-grid">
            <!-- question navigator cells -->
          </div>
        </aside>
      </div>

      <!-- pause overlay / anti-cheat -->
      <div id="pause-overlay" class="overlay hidden">
        <div class="overlay-content">
          <h3>Quiz paused</h3>
          <p>The quiz is paused. Click Resume to continue.</p>
          <button id="overlay-resume">Resume</button>
        </div>
      </div>
    </section>

    <!-- RESULT / HISTORY -->
    <section id="view-results" class="view hidden">
      <h2>Result Summary & History</h2>
      <div id="history-controls">
        <button id="clear-history">Clear All History</button>
      </div>
      <div id="history-list">
        <!-- populated by script.js -->
      </div>

      <div id="result-detail" class="hidden">
        <!-- detailed attempt view -->
      </div>
    </section>

    <!-- HELP -->
    <section id="view-help" class="view hidden">
      <h2>Help</h2>
      <p>Instructions and tips for using the MockQuiz app.</p>
      <ul>
        <li>Use the Subject, Daily and Full Mock flows to create quizzes.</li>
        <li>During a quiz you cannot switch sections without pausing/cancelling the quiz.</li>
        <li>Results are stored locally in your browser's storage.</li>
      </ul>
    </section>
  </main>

  <!-- Generic modals -->
  <div id="modal-root"></div>

  <script src="db.js" defer></script>
  <script src="script.js" defer></script>
</body>
</html>
